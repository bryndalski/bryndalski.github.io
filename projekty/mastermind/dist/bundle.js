(()=>{"use strict";const t={colorsArray:["aqua","blue","gray","green","orange","pink","red","yellow"],dotPerRow:4,tryNumber:10};new class extends class extends class{constructor(){this.newCode=()=>{this.codeArray=[];for(let e=0;e<t.dotPerRow;e++)this.codeArray.push(t.colorsArray[Math.floor(8*Math.random())]);console.log(this.codeArray)},this.checkCode=t=>{let e=[],r=[];return t.forEach(((t,s)=>{this.codeArray[s]==t?e.push("black"):this.codeArray.includes(t)&&!r.includes(t)&&(r.push(t),e.push("white"))})),e.sort()},this.codeArray=[]}}{constructor(){super(),this.startGame=()=>{this.startButton.removeEventListener("click",this.startGame),this.startButton.style.visibility="hidden",this.hasStarted=!0,this.newCode()},this.selectDot=t=>{this.hasStarted&&(this.slectedDotColor=t,document.body.style.cursor=`url('../assets/img/${t}.png'), auto`)},this.putDot=(t,e)=>{this.hasStarted&&null!=this.slectedDotColor&&(t.style.background=`url('./assets/img/${this.slectedDotColor}.png')`,document.body.style.cursor="url('../assets/img/kursor.png'), auto",this.dotColorsArray[e]=this.slectedDotColor,this.slectedDotColor=null)},this.isArrayFull=()=>!this.dotColorsArray.includes(""),this.giveUp=()=>{this.hasStarted&&(this.hasStarted=!this.hasStarted,alert("nie fajnie się poddawać ale masz kod patrz co sraciłeś "+this.codeArray.join(" ")),setTimeout((()=>{window.location.reload()}),3e3))},this.hasStarted=!1,this.startButton=document.querySelector("#start"),this.dotColorsArray=["","","",""],this.nextDotsContainer=[]}renderAvailibleDots(){t.colorsArray.forEach(((t,e)=>{let r=document.createElement("th"),s=document.createElement("img");s.src=`./assets/img/${t}.png`,r.appendChild(s),r.addEventListener("click",(()=>{this.selectDot(t)})),document.querySelector("#dots tbody tr"+(e<4?":first-child":":nth-child(2)")).appendChild(r)}))}renderNextDots(){let e=document.querySelector("#nextGuess tbody tr");for(let r=0;r<t.dotPerRow;r++){let t=document.createElement("th");t.addEventListener("click",(()=>{this.putDot(t,r)})),this.nextDotsContainer.push(t),e.appendChild(t)}}}{constructor(){super(),this.checkAnwsers=()=>{if(this.hasStarted&&this.isArrayFull()){this.boardTableArray[this.currentRow].forEach(((t,e)=>{t.style.background=`url('./assets/img/${this.dotColorsArray[e]}.png')`})),this.nextDotsContainer.forEach((t=>t.style.background=""));let e=this.checkCode(this.dotColorsArray);if(1==[...new Set(e)].length&&[...new Set(e)].includes("black"))return alert("gratulacje wygranej!!!!!! zgadłeś kod");e.map(((t,e)=>{this.anwsersTableArray[this.currentRow][e].style.background=`url('./assets/img/${t}.png')`})),this.dotColorsArray=["","","",""],this.currentRow==t.tryNumber-1?alert("Koniec gry : poprawny kod to "+this.codeArray.join(" ")):this.currentRow++}},this.boardTable=document.querySelector("#gameTable"),this.boardsResultsContainer=document.querySelector("#anwsersTabe"),this.boardTableArray=[],this.currentRow=0,this.anwsersTableArray=[],this.start()}start(){this.ceateBoadrd(),this.createAnwsers(),this.renderAvailibleDots(),this.renderNextDots(),document.querySelector("#start").addEventListener("click",this.startGame),document.querySelector("#try").addEventListener("click",this.checkAnwsers),document.querySelector("#giveUp").addEventListener("click",this.giveUp)}ceateBoadrd(){for(let e=0;e<t.tryNumber;e++){let r=document.createElement("tr");this.boardTableArray[e]=[];for(let s=0;s<t.dotPerRow;s++){let t=document.createElement("th");r.appendChild(t),this.boardTableArray[e].push(t)}this.boardTable.prepend(r)}}createAnwsers(){for(let e=0;e<t.tryNumber;e++){let r=document.createElement("tr");this.anwsersTableArray[e]=[];for(let s=0;s<t.dotPerRow;s++){let t=document.createElement("th");r.appendChild(t),this.anwsersTableArray[e].push(t)}this.boardsResultsContainer.prepend(r)}}}})();